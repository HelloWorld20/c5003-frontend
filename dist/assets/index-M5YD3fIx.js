import{d as j,a as Z,c as H,b as Y}from"./system-logo.vue_vue_type_script_setup_true_lang-voveOUV-.js";import{r as K,a as k,bZ as X,b_ as J,d as S,b$ as D,b as L,e as p,o as N,$ as o,c0 as Q,c1 as ee,u as B,bt as U,c as R,w as a,c2 as q,f as n,g as e,h as b,t as v,B as E,c3 as P,ba as oe,aN as ne,c4 as te,be as ae,b7 as se,c5 as le,bY as re,a$ as ie,aY as ce,a6 as de,b3 as pe}from"./index-CgPf9EQm.js";import{_ as F,a as G}from"./FormItem-C-80rxJ-.js";import{N as I}from"./Input-CW-Izv7Y.js";import{a as ue}from"./Dropdown-foOqA8TI.js";import{_ as A}from"./Space-CUk2o4WB.js";import"./Tooltip-DLy2t5oR.js";import"./Popover-qHZnx3Kc.js";import"./get-aZYWdo8V.js";import"./Follower-BA0-0DAj.js";import"./use-locale-CuzreQhd.js";import"./use-compitable-DFJDUIHc.js";import"./use-keyboard-BIDzhMOw.js";import"./create-C8zW23Rr.js";import"./get-slot-Bk_rJcZu.js";function me(m){const i=K(0),f=k(()=>Math.ceil(i.value)),l=k(()=>i.value>0),{pause:c,resume:s}=X(({delta:t})=>{if(i.value<=0){i.value=0,c();return}const h=t/1e3;i.value-=h,i.value<=0&&(i.value=0,c())},{immediate:!1});function y(t=m){i.value=t,s()}function _(){i.value=0,c()}return J(()=>{c()}),{count:f,isCounting:l,start:y,stop:_}}const fe={class:"absolute-lt z-1 size-full overflow-hidden"},ge={class:"absolute -right-300px -top-900px lt-sm:-right-100px lt-sm:-top-1170px"},_e={height:"1337",width:"1337"},he={id:"linearGradient-2",x1:"0.79",y1:"0.62",x2:"0.21",y2:"0.86"},we=["stop-color"],ve=["stop-color"],ye={class:"absolute -bottom-400px -left-200px lt-sm:-bottom-760px lt-sm:-left-100px"},be={height:"896",width:"967.8852157128662"},xe={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},Ce=["stop-color"],ke=["stop-color"],Ne=S({name:"WaveBg",__name:"wave-bg",props:{themeColor:{}},setup(m){const i=m,f=k(()=>D(i.themeColor,200)),l=k(()=>D(i.themeColor,500));return(c,s)=>(N(),L("div",fe,[p("div",ge,[(N(),L("svg",_e,[p("defs",null,[s[0]||(s[0]=p("path",{id:"path-1",opacity:"1","fill-rule":"evenodd",d:"M1337,668.5 C1337,1037.455193874239 1037.455193874239,1337 668.5,1337 C523.6725684305388,1337 337,1236 370.50000000000006,1094 C434.03835568300906,824.6732385973953 6.906089672974592e-14,892.6277623047779 0,668.5000000000001 C0,299.5448061257611 299.5448061257609,1.1368683772161603e-13 668.4999999999999,0 C1037.455193874239,0 1337,299.544806125761 1337,668.5Z"},null,-1)),p("linearGradient",he,[p("stop",{offset:"0","stop-color":f.value,"stop-opacity":"1"},null,8,we),p("stop",{offset:"1","stop-color":l.value,"stop-opacity":"1"},null,8,ve)])]),s[1]||(s[1]=p("g",{opacity:"1"},[p("use",{"xlink:href":"#path-1",fill:"url(#linearGradient-2)","fill-opacity":"1"})],-1))]))]),p("div",ye,[(N(),L("svg",be,[p("defs",null,[s[2]||(s[2]=p("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1)),p("linearGradient",xe,[p("stop",{offset:"0","stop-color":l.value,"stop-opacity":"1"},null,8,Ce),p("stop",{offset:"1","stop-color":f.value,"stop-opacity":"1"},null,8,ke)])]),s[3]||(s[3]=p("g",{opacity:"1"},[p("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1))]))])]))}}),$e=/^[\u4E00-\u9FA5a-zA-Z0-9_-]{4,16}$/,O=/^[1](([3][0-9])|([4][01456789])|([5][012356789])|([6][2567])|([7][0-8])|([8][0-9])|([9][012356789]))[0-9]{8}$/,Pe=/^\w{6,18}$/,Re=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,Se=/^\d{6}$/;function V(){const m={userName:{pattern:$e,message:o("form.userName.invalid"),trigger:"change"},phone:{pattern:O,message:o("form.phone.invalid"),trigger:"change"},pwd:{pattern:Pe,message:o("form.pwd.invalid"),trigger:"change"},code:{pattern:Se,message:o("form.code.invalid"),trigger:"change"},email:{pattern:Re,message:o("form.email.invalid"),trigger:"change"}},i={userName:[l(o("form.userName.required")),m.userName],phone:[l(o("form.phone.required")),m.phone],pwd:[l(o("form.pwd.required")),m.pwd],code:[l(o("form.code.required")),m.code],email:[l(o("form.email.required")),m.email]},f=l(o("form.required"));function l(s){return{required:!0,message:s}}function c(s){return[{required:!0,message:o("form.confirmPwd.required")},{asyncValidator:(_,t)=>t.trim()!==""&&t!==Q(s)?Promise.reject(_.message):Promise.resolve(),message:o("form.confirmPwd.invalid"),trigger:"input"}]}return{patternRules:m,formRules:i,defaultRequiredRule:f,createRequiredRule:l,createConfirmPwdRule:c}}function T(){const m=K(null);async function i(){await m.value?.validate()}async function f(){m.value?.restoreValidation()}return{formRef:m,validate:i,restoreValidation:f}}const Le={class:"flex-y-center justify-between"},ze={class:"flex-y-center justify-between gap-12px"},Me={class:"flex-center gap-12px"},Be=S({name:"PwdLogin",__name:"pwd-login",setup(m){const i=ee(),{toggleLoginModule:f}=B(),{formRef:l,validate:c}=T(),s=U({userName:"Soybean",password:"123456"}),y=k(()=>{const{formRules:d}=V();return{userName:d.userName,password:d.pwd}});async function _(){await c(),await i.login(s.userName,s.password)}const t=k(()=>[{key:"super",label:o("page.login.pwdLogin.superAdmin"),userName:"Super",password:"123456"},{key:"admin",label:o("page.login.pwdLogin.admin"),userName:"Admin",password:"123456"},{key:"user",label:o("page.login.pwdLogin.user"),userName:"User",password:"123456"}]);async function h(d){await i.login(d.userName,d.password)}return(d,u)=>{const r=I,x=G,g=ue,C=E,z=j,M=A,w=F;return N(),R(w,{ref_key:"formRef",ref:l,model:s,rules:y.value,size:"large","show-label":!1,onKeyup:q(_,["enter"])},{default:a(()=>[n(x,{path:"userName"},{default:a(()=>[n(r,{value:s.userName,"onUpdate:value":u[0]||(u[0]=$=>s.userName=$),placeholder:e(o)("page.login.common.userNamePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(x,{path:"password"},{default:a(()=>[n(r,{value:s.password,"onUpdate:value":u[1]||(u[1]=$=>s.password=$),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(M,{vertical:"",size:24},{default:a(()=>[p("div",Le,[n(g,null,{default:a(()=>[b(v(e(o)("page.login.pwdLogin.rememberMe")),1)]),_:1}),n(C,{quaternary:"",onClick:u[2]||(u[2]=$=>e(f)("reset-pwd"))},{default:a(()=>[b(v(e(o)("page.login.pwdLogin.forgetPassword")),1)]),_:1})]),n(C,{type:"primary",size:"large",round:"",block:"",loading:e(i).loginLoading,onClick:_},{default:a(()=>[b(v(e(o)("common.confirm")),1)]),_:1},8,["loading"]),p("div",ze,[n(C,{class:"flex-1",block:"",onClick:u[3]||(u[3]=$=>e(f)("code-login"))},{default:a(()=>[b(v(e(o)(e(P)["code-login"])),1)]),_:1}),n(C,{class:"flex-1",block:"",onClick:u[4]||(u[4]=$=>e(f)("register"))},{default:a(()=>[b(v(e(o)(e(P).register)),1)]),_:1})]),n(z,{class:"text-14px text-#666 !m-0"},{default:a(()=>[b(v(e(o)("page.login.pwdLogin.otherAccountLogin")),1)]),_:1}),p("div",Me,[(N(!0),L(ne,null,oe(t.value,$=>(N(),R(C,{key:$.key,type:"primary",onClick:je=>h($)},{default:a(()=>[b(v($.label),1)]),_:2},1032,["onClick"]))),128))])]),_:1})]),_:1},8,["model","rules"])}}});function W(){const{loading:m,startLoading:i,endLoading:f}=te(),{count:l,start:c,stop:s,isCounting:y}=me(10),_=k(()=>{let d=o("page.login.codeLogin.getCode");const u=o("page.login.codeLogin.reGetCode",{time:l.value});return m.value&&(d=""),y.value&&(d=u),d});function t(d){return d.trim()===""?(window.$message?.error?.(o("form.phone.required")),!1):O.test(d)?!0:(window.$message?.error?.(o("form.phone.invalid")),!1)}async function h(d){!t(d)||m.value||(i(),await new Promise(r=>{setTimeout(r,500)}),window.$message?.success?.(o("page.login.codeLogin.sendCodeSuccess")),c(),f())}return{label:_,start:c,stop:s,isCounting:y,loading:m,getCaptcha:h}}const Ue={class:"w-full flex-y-center gap-16px"},qe=S({name:"CodeLogin",__name:"code-login",setup(m){const{toggleLoginModule:i}=B(),{formRef:f,validate:l}=T(),{label:c,isCounting:s,loading:y,getCaptcha:_}=W(),t=U({phone:"",code:""}),h=k(()=>{const{formRules:u}=V();return{phone:u.phone,code:u.code}});async function d(){await l(),window.$message?.success(o("page.login.common.validateSuccess"))}return(u,r)=>{const x=I,g=G,C=E,z=A,M=F;return N(),R(M,{ref_key:"formRef",ref:f,model:t,rules:h.value,size:"large","show-label":!1,onKeyup:q(d,["enter"])},{default:a(()=>[n(g,{path:"phone"},{default:a(()=>[n(x,{value:t.phone,"onUpdate:value":r[0]||(r[0]=w=>t.phone=w),placeholder:e(o)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(g,{path:"code"},{default:a(()=>[p("div",Ue,[n(x,{value:t.code,"onUpdate:value":r[1]||(r[1]=w=>t.code=w),placeholder:e(o)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),n(C,{size:"large",disabled:e(s),loading:e(y),onClick:r[2]||(r[2]=w=>e(_)(t.phone))},{default:a(()=>[b(v(e(c)),1)]),_:1},8,["disabled","loading"])])]),_:1}),n(z,{vertical:"",size:18,class:"w-full"},{default:a(()=>[n(C,{type:"primary",size:"large",round:"",block:"",onClick:d},{default:a(()=>[b(v(e(o)("common.confirm")),1)]),_:1}),n(C,{size:"large",round:"",block:"",onClick:r[3]||(r[3]=w=>e(i)("pwd-login"))},{default:a(()=>[b(v(e(o)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ee={class:"w-full flex-y-center gap-16px"},Fe=S({name:"Register",__name:"register",setup(m){const{toggleLoginModule:i}=B(),{formRef:f,validate:l}=T(),{label:c,isCounting:s,loading:y,getCaptcha:_}=W(),t=U({phone:"",code:"",password:"",confirmPassword:""}),h=k(()=>{const{formRules:u,createConfirmPwdRule:r}=V();return{phone:u.phone,code:u.code,password:u.pwd,confirmPassword:r(t.password)}});async function d(){await l(),window.$message?.success(o("page.login.common.validateSuccess"))}return(u,r)=>{const x=I,g=G,C=E,z=A,M=F;return N(),R(M,{ref_key:"formRef",ref:f,model:t,rules:h.value,size:"large","show-label":!1,onKeyup:q(d,["enter"])},{default:a(()=>[n(g,{path:"phone"},{default:a(()=>[n(x,{value:t.phone,"onUpdate:value":r[0]||(r[0]=w=>t.phone=w),placeholder:e(o)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(g,{path:"code"},{default:a(()=>[p("div",Ee,[n(x,{value:t.code,"onUpdate:value":r[1]||(r[1]=w=>t.code=w),placeholder:e(o)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),n(C,{size:"large",disabled:e(s),loading:e(y),onClick:r[2]||(r[2]=w=>e(_)(t.phone))},{default:a(()=>[b(v(e(c)),1)]),_:1},8,["disabled","loading"])])]),_:1}),n(g,{path:"password"},{default:a(()=>[n(x,{value:t.password,"onUpdate:value":r[3]||(r[3]=w=>t.password=w),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(g,{path:"confirmPassword"},{default:a(()=>[n(x,{value:t.confirmPassword,"onUpdate:value":r[4]||(r[4]=w=>t.confirmPassword=w),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(z,{vertical:"",size:18,class:"w-full"},{default:a(()=>[n(C,{type:"primary",size:"large",round:"",block:"",onClick:d},{default:a(()=>[b(v(e(o)("common.confirm")),1)]),_:1}),n(C,{size:"large",round:"",block:"",onClick:r[5]||(r[5]=w=>e(i)("pwd-login"))},{default:a(()=>[b(v(e(o)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ge=S({name:"ResetPwd",__name:"reset-pwd",setup(m){const{toggleLoginModule:i}=B(),{formRef:f,validate:l}=T(),c=U({phone:"",code:"",password:"",confirmPassword:""}),s=k(()=>{const{formRules:_,createConfirmPwdRule:t}=V();return{phone:_.phone,password:_.pwd,confirmPassword:t(c.password)}});async function y(){await l(),window.$message?.success(o("page.login.common.validateSuccess"))}return(_,t)=>{const h=I,d=G,u=E,r=A,x=F;return N(),R(x,{ref_key:"formRef",ref:f,model:c,rules:s.value,size:"large","show-label":!1,onKeyup:q(y,["enter"])},{default:a(()=>[n(d,{path:"phone"},{default:a(()=>[n(h,{value:c.phone,"onUpdate:value":t[0]||(t[0]=g=>c.phone=g),placeholder:e(o)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(d,{path:"code"},{default:a(()=>[n(h,{value:c.code,"onUpdate:value":t[1]||(t[1]=g=>c.code=g),placeholder:e(o)("page.login.common.codePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(d,{path:"password"},{default:a(()=>[n(h,{value:c.password,"onUpdate:value":t[2]||(t[2]=g=>c.password=g),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(d,{path:"confirmPassword"},{default:a(()=>[n(h,{value:c.confirmPassword,"onUpdate:value":t[3]||(t[3]=g=>c.confirmPassword=g),type:"password","show-password-on":"click",placeholder:e(o)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(r,{vertical:"",size:18,class:"w-full"},{default:a(()=>[n(u,{type:"primary",size:"large",round:"",block:"",onClick:y},{default:a(()=>[b(v(e(o)("common.confirm")),1)]),_:1}),n(u,{size:"large",round:"",block:"",onClick:t[4]||(t[4]=g=>e(i)("pwd-login"))},{default:a(()=>[b(v(e(o)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ie=S({name:"BindWechat",__name:"bind-wechat",setup(m){return(i,f)=>(N(),L("div"))}}),Ae={class:"w-400px lt-sm:w-300px"},Ve={class:"flex-y-center justify-between"},Te={class:"text-28px text-primary font-500 lt-sm:text-22px"},De={class:"i-flex-col"},Ke={class:"pt-24px"},Oe={class:"text-18px text-primary font-medium"},We={class:"pt-24px"},co=S({__name:"index",props:{module:{}},setup(m){const i=m,f=ae(),l=se(),c={"pwd-login":{label:P["pwd-login"],component:Be},"code-login":{label:P["code-login"],component:qe},register:{label:P.register,component:Fe},"reset-pwd":{label:P["reset-pwd"],component:Ge},"bind-wechat":{label:P["bind-wechat"],component:Ie}},s=k(()=>c[i.module||"pwd-login"]),y=k(()=>l.darkMode?D(l.themeColor,600):l.themeColor),_=k(()=>{const t="#ffffff",h=l.darkMode?.5:.2;return le(t,l.themeColor,h)});return(t,h)=>{const d=Ne,u=Z,r=H,x=Y,g=re;return N(),L("div",{class:"relative size-full flex-center overflow-hidden",style:ie({backgroundColor:_.value})},[n(d,{"theme-color":y.value},null,8,["theme-color"]),n(g,{bordered:!1,class:"relative z-4 w-auto rd-12px"},{default:a(()=>[p("div",Ae,[p("header",Ve,[n(u,{class:"text-64px text-primary lt-sm:text-48px"}),p("h3",Te,v(e(o)("system.title")),1),p("div",De,[n(r,{"theme-schema":e(l).themeScheme,"show-tooltip":!1,class:"text-20px lt-sm:text-18px",onSwitch:e(l).toggleThemeScheme},null,8,["theme-schema","onSwitch"]),e(l).header.multilingual.visible?(N(),R(x,{key:0,lang:e(f).locale,"lang-options":e(f).localeOptions,"show-tooltip":!1,onChangeLang:e(f).changeLocale},null,8,["lang","lang-options","onChangeLang"])):ce("",!0)])]),p("main",Ke,[p("h3",Oe,v(e(o)(s.value.label)),1),p("div",We,[n(de,{name:e(l).page.animateMode,mode:"out-in",appear:""},{default:a(()=>[(N(),R(pe(s.value.component)))]),_:1},8,["name"])])])])]),_:1})],4)}}});export{co as default};
