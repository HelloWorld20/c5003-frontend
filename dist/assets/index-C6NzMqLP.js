import{_ as U,a as $,b as A,N as E}from"./round-add-Be7tstvr.js";import{_ as G,a as L}from"./round-search-r3jNvP4c.js";import{d as O,r as m,bt as T,F as V,ab as j,b as q,f as t,w as o,bY as M,c8 as Y,g as r,B as p,h as d,i as _,bd as H,o as J}from"./index-CfpZo8w-.js";import{f as K,d as Q}from"./departments-PAqYqG3U.js";import{_ as W}from"./FormItem-DunN2_bb.js";import{_ as X,a as Z}from"./Grid-CVbsF19X.js";import{N as ee}from"./Input-DXLRnZtr.js";import{_ as N}from"./Space-72crcGQg.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./get-DZ7P2G-Z.js";import"./Dropdown-hY18M8Tw.js";import"./use-locale-CUGND_E1.js";import"./Popover-CqushPYT.js";import"./Follower-fAuv7w7d.js";import"./use-compitable-DA0_a1mn.js";import"./use-keyboard-C0QpISI4.js";import"./create-C8zW23Rr.js";import"./Tooltip-CXH56mgO.js";import"./get-slot-Bk_rJcZu.js";import"./FocusDetector-DEqc9KJY.js";import"./Select-BixcUewK.js";import"./Forward-BGnG18aJ.js";import"./download-C2161hUv.js";const oe={class:"user-management"},ne=O({__name:"index",setup(ae){const c=H(),a=m({Dept_ID:"",Dept_Name:""}),f=m([]),l=T({Page_Number:1,Row_Count:10,"item-count":99}),v=m(!1),h=[{title:"dept_no",key:"dept_no"},{title:"dept_name",key:"dept_name"},{title:"Operation",key:"actions",width:150,render:n=>_(N,{},{default:()=>[_(p,{size:"small",type:"primary",onClick:()=>y(n)},{default:()=>"Edit"}),_(E,{onPositiveClick:()=>w(n)},{trigger:()=>_(p,{size:"small",type:"error"},{default:()=>"Delete"}),default:()=>"Are you sure to delete this employee?"})]})}];function y(n){console.log("编辑用户:",n),c.push({path:"/departments/detail",query:{dept_no:n.dept_no}})}async function w(n){try{await Q(n.dept_no),i(),window.$message?.success("delete success")}catch(e){window.$message?.error(e||"fail to delete")}}function C(){console.log("搜索条件:",a),i()}function g(){x(),i()}function k(){console.log("新增用户"),c.push("/departments/detail")}function x(){a.value={Dept_ID:"",Dept_Name:""}}function i(){let n={...a.value,...l};delete n["item-count"],n=Y(n),K(n).then(e=>{f.value=e})}return V(()=>{g(),i()}),j(()=>[l.Page_Number,l.Row_Count],()=>{i()}),(n,e)=>{const b=ee,u=Z,I=G,R=L,z=X,P=W,D=M,B=A,F=U,S=$;return J(),q("div",oe,[t(D,{title:"Search Conditions",class:"mb-4"},{default:o(()=>[t(P,{model:a.value,"label-placement":"left","label-width":"80px",class:"search-form"},{default:o(()=>[t(z,{cols:4,"x-gap":16},{default:o(()=>[t(u,{label:"Dept_ID"},{default:o(()=>[t(b,{value:a.value.Dept_ID,"onUpdate:value":e[0]||(e[0]=s=>a.value.Dept_ID=s),clearable:""},null,8,["value"])]),_:1}),t(u,{label:"Dept_Name"},{default:o(()=>[t(b,{value:a.value.Dept_Name,"onUpdate:value":e[1]||(e[1]=s=>a.value.Dept_Name=s),clearable:""},null,8,["value"])]),_:1}),t(u,null,{default:o(()=>[t(r(N),null,{default:o(()=>[t(r(p),{type:"primary",onClick:C},{icon:o(()=>[t(I)]),default:o(()=>[e[4]||(e[4]=d(" Search ",-1))]),_:1}),t(r(p),{onClick:g},{icon:o(()=>[t(R)]),default:o(()=>[e[5]||(e[5]=d(" Reset ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(D,{title:"Department List"},{"header-extra":o(()=>[t(r(p),{type:"primary",onClick:k},{icon:o(()=>[t(B)]),default:o(()=>[e[6]||(e[6]=d(" Add Department ",-1))]),_:1})]),default:o(()=>[t(F,{columns:h,data:f.value,loading:v.value,bordered:!1,"single-line":!1,class:"user-table"},null,8,["data","loading"]),t(S,{page:l.Page_Number,"onUpdate:page":e[2]||(e[2]=s=>l.Page_Number=s),"page-size":l.Row_Count,"onUpdate:pageSize":e[3]||(e[3]=s=>l.Row_Count=s),"item-count":l["item-count"],"page-sizes":[10,20,30,40],"show-size-picker":""},null,8,["page","page-size","item-count"])]),_:1})])}}}),Re=te(ne,[["__scopeId","data-v-e3ebec26"]]);export{Re as default};
