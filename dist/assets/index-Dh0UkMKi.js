import{_ as T,a as U,b as $,N as B}from"./round-add-Be7tstvr.js";import{_ as A,a as j}from"./round-search-r3jNvP4c.js";import{d as G,r as d,bt as L,F as O,ab as V,b as q,f as t,w as a,bY as H,c7 as D,c8 as J,g as p,B as u,h as c,i as m,bd as K,o as Q}from"./index-CfpZo8w-.js";import{f as W,d as X}from"./salary-vXYu_dhq.js";import{_ as Z}from"./FormItem-DunN2_bb.js";import{_ as ee,a as te}from"./Grid-CVbsF19X.js";import{N as oe}from"./Input-DXLRnZtr.js";import{_ as ae}from"./DatePicker-LgaTArTr.js";import{_ as b}from"./Space-72crcGQg.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./get-DZ7P2G-Z.js";import"./Dropdown-hY18M8Tw.js";import"./use-locale-CUGND_E1.js";import"./Popover-CqushPYT.js";import"./Follower-fAuv7w7d.js";import"./use-compitable-DA0_a1mn.js";import"./use-keyboard-C0QpISI4.js";import"./create-C8zW23Rr.js";import"./Tooltip-CXH56mgO.js";import"./get-slot-Bk_rJcZu.js";import"./FocusDetector-DEqc9KJY.js";import"./Select-BixcUewK.js";import"./Forward-BGnG18aJ.js";import"./download-C2161hUv.js";const le={class:"user-management"},se=G({__name:"index",setup(re){const f=K(),n=d({Employee_ID:"",Salary:null,Date:null}),g=d([]),s=L({Page_Number:1,Row_Count:10,"item-count":99}),N=d(!1),h=[{title:"emp_no",key:"emp_no"},{title:"Salary",key:"salary"},{title:"from_date",key:"from_date"},{title:"to_date",key:"to_date"},{title:"Operation",key:"actions",width:150,render:o=>m(b,{},{default:()=>[m(u,{size:"small",type:"primary",onClick:()=>k(o)},{default:()=>"Edit"}),m(B,{onPositiveClick:()=>S(o)},{trigger:()=>m(u,{size:"small",type:"error"},{default:()=>"Delete"}),default:()=>"Are you sure to delete this employee?"})]})}];function k(o){console.log("编辑用户:",o),f.push({path:"salaries/detail",query:{...o}})}async function S(o){try{await X(o.Employee_ID),r(),window.$message?.success("删除成功")}catch{window.$message?.error("删除失败")}}function w(){console.log("搜索条件:",n),r()}function y(){x(),r()}function C(){console.log("新增用户"),f.push("/salaries/detail")}function x(){n.value={Employee_ID:"",Salary:null,Date:null}}function r(){let o={...n.value,...s};if(o.Date){const[e,i]=o.Date;o.From_Date=e?D(e).format("YYYY-MM-DD"):void 0,o.To_Date=i?D(i).format("YYYY-MM-DD"):void 0,delete o.Date}delete o["item-count"],o=J(o),W(o).then(e=>{g.value=e})}return O(()=>{y(),r()}),V(()=>[s.Page_Number,s.Row_Count],()=>{r()}),(o,e)=>{const i=oe,_=te,I=ae,E=A,Y=j,P=ee,R=Z,v=H,z=$,F=T,M=U;return Q(),q("div",le,[t(v,{title:"Search Conditions",class:"mb-4"},{default:a(()=>[t(R,{model:n.value,"label-placement":"left","label-width":"80px",class:"search-form"},{default:a(()=>[t(P,{cols:4,"x-gap":16},{default:a(()=>[t(_,{label:"Employee_ID"},{default:a(()=>[t(i,{value:n.value.Employee_ID,"onUpdate:value":e[0]||(e[0]=l=>n.value.Employee_ID=l),clearable:""},null,8,["value"])]),_:1}),t(_,{label:"Salary"},{default:a(()=>[t(i,{value:n.value.Salary,"onUpdate:value":e[1]||(e[1]=l=>n.value.Salary=l),clearable:""},null,8,["value"])]),_:1}),t(_,{label:"Date"},{default:a(()=>[t(I,{value:n.value.Date,"onUpdate:value":e[2]||(e[2]=l=>n.value.Date=l),type:"daterange",clearable:""},null,8,["value"])]),_:1}),t(_,null,{default:a(()=>[t(p(b),null,{default:a(()=>[t(p(u),{type:"primary",onClick:w},{icon:a(()=>[t(E)]),default:a(()=>[e[5]||(e[5]=c(" Search ",-1))]),_:1}),t(p(u),{onClick:y},{icon:a(()=>[t(Y)]),default:a(()=>[e[6]||(e[6]=c(" Reset ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(v,{title:"Salary List"},{"header-extra":a(()=>[t(p(u),{type:"primary",onClick:C},{icon:a(()=>[t(z)]),default:a(()=>[e[7]||(e[7]=c(" Add Salary ",-1))]),_:1})]),default:a(()=>[t(F,{columns:h,data:g.value,loading:N.value,bordered:!1,"single-line":!1,class:"user-table"},null,8,["data","loading"]),t(M,{page:s.Page_Number,"onUpdate:page":e[3]||(e[3]=l=>s.Page_Number=l),"page-size":s.Row_Count,"onUpdate:pageSize":e[4]||(e[4]=l=>s.Row_Count=l),"item-count":s["item-count"],"page-sizes":[10,20,30,40],"show-size-picker":""},null,8,["page","page-size","item-count"])]),_:1})])}}}),Re=ne(se,[["__scopeId","data-v-9e291299"]]);export{Re as default};
