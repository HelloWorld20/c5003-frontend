import{_ as M,a as U,b as $,N as B}from"./round-add-BPbYZ9dc.js";import{_ as S,a as A}from"./round-search-DFahOh1b.js";import{d as j,r as p,bu as G,F as L,ab as O,b as V,f as t,w as o,bZ as Z,cc as b,c7 as q,g as u,B as m,h as c,i as d,bd as H,o as J}from"./index-87vbCTGm.js";import{f as K,d as Q}from"./titles-BFtEs3pV.js";import{_ as W}from"./FormItem-BHQhvWDD.js";import{_ as X,a as ee}from"./Grid-DQUJjOE4.js";import{N as te}from"./Input-ClcVpobp.js";import{_ as oe}from"./DatePicker-B-UnU-O6.js";import{_ as D}from"./Space-BIAq3j9v.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./get-BnYSeXiT.js";import"./Dropdown-BdNqHr01.js";import"./use-locale-BXu25IbI.js";import"./Popover-D6ZomGUB.js";import"./Follower-Sc50xzgF.js";import"./use-compitable-CBYToUKY.js";import"./use-keyboard-BUPNGHvA.js";import"./create-C8zW23Rr.js";import"./Tooltip-B9QzuBhL.js";import"./get-slot-Bk_rJcZu.js";import"./FocusDetector-BjQ8OS9e.js";import"./Select-t6ou7y2E.js";import"./Forward-C9o8IRuB.js";import"./download-C2161hUv.js";const ae={class:"user-management"},le=j({__name:"index",setup(ie){const y=H(),a=p({Employee_ID:"",Title:"",Date:null}),f=p([]),i=G({Page_Number:1,Row_Count:10,"item-count":99}),N=p(!1),T=[{title:"emp_no",key:"emp_no"},{title:"Title",key:"title"},{title:"from_date",key:"from_date"},{title:"to_date",key:"to_date"},{title:"Operation",key:"actions",width:150,render:n=>d(D,{},{default:()=>[d(B,{onPositiveClick:()=>w(n)},{trigger:()=>d(m,{size:"small",type:"error"},{default:()=>"Delete"}),default:()=>"Are you sure to delete this employee?"})]})}];async function w(n){try{await Q(n.emp_no,n.title),s(),window.$message?.success("删除成功")}catch{window.$message?.error("删除失败")}}function k(){console.log("搜索条件:",a),s()}function g(){h(),s()}function C(){console.log("新增用户"),y.push("/titles/detail")}function h(){a.value.Employee_ID="",a.value.Title="",a.value.Date=null}function s(){let n={...a.value,...i};if(n.Date){const[e,_]=n.Date;n.From_Date=e?b(e).format("YYYY-MM-DD"):void 0,n.To_Date=_?b(_).format("YYYY-MM-DD"):void 0,delete n.Date}delete n["item-count"],n=q(n),K(n).then(e=>{f.value=e})}return L(()=>{g(),s()}),O(()=>[i.Page_Number,i.Row_Count],()=>{s()}),(n,e)=>{const _=te,r=ee,x=oe,I=S,P=A,R=X,Y=W,v=Z,z=$,E=M,F=U;return J(),V("div",ae,[t(v,{title:"Search Conditions",class:"mb-4"},{default:o(()=>[t(Y,{model:a.value,"label-placement":"left","label-width":"80px",class:"search-form"},{default:o(()=>[t(R,{cols:4,"x-gap":16},{default:o(()=>[t(r,{label:"Employee_ID"},{default:o(()=>[t(_,{value:a.value.Employee_ID,"onUpdate:value":e[0]||(e[0]=l=>a.value.Employee_ID=l),clearable:""},null,8,["value"])]),_:1}),t(r,{label:"Title"},{default:o(()=>[t(_,{value:a.value.Title,"onUpdate:value":e[1]||(e[1]=l=>a.value.Title=l),clearable:""},null,8,["value"])]),_:1}),t(r,{label:"Date"},{default:o(()=>[t(x,{value:a.value.Date,"onUpdate:value":e[2]||(e[2]=l=>a.value.Date=l),type:"daterange",clearable:""},null,8,["value"])]),_:1}),t(r,null,{default:o(()=>[t(u(D),null,{default:o(()=>[t(u(m),{type:"primary",onClick:k},{icon:o(()=>[t(I)]),default:o(()=>[e[5]||(e[5]=c(" Search ",-1))]),_:1}),t(u(m),{onClick:g},{icon:o(()=>[t(P)]),default:o(()=>[e[6]||(e[6]=c(" Reset ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(v,{title:"Title List"},{"header-extra":o(()=>[t(u(m),{type:"primary",onClick:C},{icon:o(()=>[t(z)]),default:o(()=>[e[7]||(e[7]=c(" Add Title ",-1))]),_:1})]),default:o(()=>[t(E,{columns:T,data:f.value,loading:N.value,bordered:!1,"single-line":!1,class:"user-table"},null,8,["data","loading"]),t(F,{page:i.Page_Number,"onUpdate:page":e[3]||(e[3]=l=>i.Page_Number=l),"page-size":i.Row_Count,"onUpdate:pageSize":e[4]||(e[4]=l=>i.Row_Count=l),"item-count":i["item-count"],"page-sizes":[10,20,30,40],"show-size-picker":""},null,8,["page","page-size","item-count"])]),_:1})])}}}),Ye=ne(le,[["__scopeId","data-v-09345e58"]]);export{Ye as default};
