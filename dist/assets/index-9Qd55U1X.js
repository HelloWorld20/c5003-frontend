import{_ as L,a as O,b as P,N as R}from"./round-add-Co5zz2AP.js";import{_ as j,a as G}from"./round-search-CPuu5Jof.js";import{d as T,bt as y,r as v,F as V,ab as q,b as Y,f as t,w as a,bY as H,c7 as J,g as d,B as p,h as m,i as _,bd as K,o as Q}from"./index-CgPf9EQm.js";import{f as W,d as X}from"./employee-CWrcexus.js";import{_ as Z,a as ee}from"./Grid-Bpsg71dj.js";import{_ as te}from"./DatePicker-BUiC7MvA.js";import{_ as ne}from"./FormItem-C-80rxJ-.js";import{N as ae}from"./Input-CW-Izv7Y.js";import{N as oe}from"./Select-BKdez5Gf.js";import{_ as k}from"./Space-CUk2o4WB.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./get-aZYWdo8V.js";import"./Dropdown-foOqA8TI.js";import"./use-locale-CuzreQhd.js";import"./Popover-qHZnx3Kc.js";import"./Follower-BA0-0DAj.js";import"./use-compitable-DFJDUIHc.js";import"./use-keyboard-BIDzhMOw.js";import"./create-C8zW23Rr.js";import"./Tooltip-DLy2t5oR.js";import"./get-slot-Bk_rJcZu.js";import"./FocusDetector-DEKUhLld.js";import"./Forward-DZ273ImB.js";import"./download-C2161hUv.js";const ie={class:"user-management"},re=T({__name:"index",setup(se){const u=K(),o=y({emp_no:"",birth_date:null,hire_date:null,name:"",gender:"M"}),c=v([]),i=y({page:1,pageSize:10,"item-count":99}),w=v(!1),N=[{title:"name",key:"name",width:180,render:n=>`${n.first_name} ${n.last_name}`},{title:"emp_no",key:"emp_no",width:100},{title:"birth_date",key:"birth_date",width:140},{title:"dept_name",key:"dept_name",width:180},{title:"title",key:"title",width:180},{title:"salary",key:"salary",width:100,render:n=>`$ ${n.salary}`},{title:"hire_date",key:"hire_date",width:140},{title:"gender",key:"gender",width:120,render:n=>n.gender==="M"?"male":"female"},{title:"Operation",key:"actions",width:150,fixed:"right",render:n=>_(k,{},{default:()=>[_(p,{size:"small",type:"primary",onClick:()=>x(n)},{default:()=>"Edit"}),_(R,{onPositiveClick:()=>z(n)},{trigger:()=>_(p,{size:"small",type:"error"},{default:()=>"Delete"}),default:()=>"Are you sure to delete this employee?"})]})}];function x(n){u.push({path:"employees/detail",query:{emp_no:n.emp_no}})}async function z(n){try{await X(n.emp_no),s(),window.$message?.success("delete success")}catch(e){window.$message?.error(e||"fail to delete")}}function S(){console.log("搜索条件:",o),s()}function f(){$(),s()}function C(){console.log("新增用户"),u.push("/employees/detail")}function $(){Object.assign(o,{emp_no:"",birth_date:null,hire_date:null,name:"",gender:""})}function s(){let n=Object.assign(o,i);delete n["item-count"],n=J(n),W(n).then(e=>{c.value=e.data})}return V(()=>{f(),s()}),q(()=>[i.page,i.pageSize],()=>{s()}),(n,e)=>{const g=ae,r=ee,b=te,E=oe,U=j,F=G,A=Z,D=ne,h=H,M=P,B=L,I=O;return Q(),Y("div",ie,[t(h,{title:"Search Conditions",class:"mb-4"},{default:a(()=>[t(D,{model:o,"label-placement":"left","label-width":"80px",class:"search-form"},{default:a(()=>[t(A,{cols:4,"x-gap":16},{default:a(()=>[t(r,{label:"name"},{default:a(()=>[t(g,{value:o.name,"onUpdate:value":e[0]||(e[0]=l=>o.name=l),clearable:""},null,8,["value"])]),_:1}),t(r,{label:"emp_no"},{default:a(()=>[t(g,{value:o.emp_no,"onUpdate:value":e[1]||(e[1]=l=>o.emp_no=l),clearable:""},null,8,["value"])]),_:1}),t(r,{label:"birth_date"},{default:a(()=>[t(b,{value:o.birth_date,"onUpdate:value":e[2]||(e[2]=l=>o.birth_date=l),type:"daterange",clearable:""},null,8,["value"])]),_:1}),t(r,{label:"hire_date"},{default:a(()=>[t(b,{value:o.hire_date,"onUpdate:value":e[3]||(e[3]=l=>o.hire_date=l),type:"daterange",clearable:""},null,8,["value"])]),_:1}),t(r,{label:"gender"},{default:a(()=>[t(E,{value:o.gender,"onUpdate:value":e[4]||(e[4]=l=>o.gender=l),clearable:"",options:[{label:"All",value:"ALL"},{label:"Male",value:"M"},{label:"Female",value:"F"}]},null,8,["value"])]),_:1}),t(r,null,{default:a(()=>[t(d(k),null,{default:a(()=>[t(d(p),{type:"primary",onClick:S},{icon:a(()=>[t(U)]),default:a(()=>[e[7]||(e[7]=m(" Search ",-1))]),_:1}),t(d(p),{onClick:f},{icon:a(()=>[t(F)]),default:a(()=>[e[8]||(e[8]=m(" Reset ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(h,{title:"Employee List"},{"header-extra":a(()=>[t(d(p),{type:"primary",onClick:C},{icon:a(()=>[t(M)]),default:a(()=>[e[9]||(e[9]=m(" Add Employee ",-1))]),_:1})]),default:a(()=>[t(B,{columns:N,data:c.value,loading:w.value,bordered:!1,"single-line":!1,class:"user-table"},null,8,["data","loading"]),t(I,{page:i.page,"onUpdate:page":e[5]||(e[5]=l=>i.page=l),"page-size":i.pageSize,"onUpdate:pageSize":e[6]||(e[6]=l=>i.pageSize=l),"item-count":i["item-count"],"page-sizes":[10,20,30,40],"show-size-picker":""},null,8,["page","page-size","item-count"])]),_:1})])}}}),De=le(re,[["__scopeId","data-v-4f1cb35c"]]);export{De as default};
