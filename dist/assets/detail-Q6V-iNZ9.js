import{d as x,c8 as y,bt as D,bv as k,r as w,F as B,b as C,f as n,w as s,g as t,e as R,B as u,h as m,b_ as N,be as P,o as V}from"./index-Fa26LLGJ.js";import{g as q,u as I,a as j}from"./departments-1qq7CMQ6.js";import{_ as M}from"./FormItem-BZKeQ143.js";import{_ as S,a as _}from"./Grid-B2FtaVgP.js";import{N as i}from"./Input-CaFfWc_O.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./get-D-rsvxxO.js";import"./get-slot-Bk_rJcZu.js";import"./use-locale-3ZZNx-H2.js";const E={class:"p-6"},F={class:"mt-8 flex justify-end space-x-4"},O=x({name:"DepartmentDetail",__name:"detail",setup(T){const f=D(),c=P(),p=y(),{dept_no:o}=f.query,a=k({dept_no:"",dept_name:""}),d=w(),g={dept_no:[{required:!0,message:"Please enter dept_no",trigger:"blur"}],dept_name:{required:!0,message:"Please enter dept_name",trigger:"blur"}},b=()=>{d.value?.validate(l=>{if(l)p.error("Please check the form information");else{const e={dept_no:a.dept_no,dept_name:a.dept_name};o?I(e).then(()=>{p.success("Department updated successfully!")}):j(e).then(()=>{p.success("Department added successfully!")})}})},v=()=>{d.value?.restoreValidation(),Object.assign(a,{dept_no:"",dept_name:""})},h=()=>{c.push("/departments")};return B(()=>{o&&q(o).then(l=>{a.dept_no=l?.[0].dept_no,a.dept_name=l?.[0].dept_name})}),(l,e)=>(V(),C("div",E,[n(t(N),{title:"Department Information",class:"mx-auto"},{default:s(()=>[n(t(M),{ref_key:"formRef",ref:d,model:a,rules:g,"label-placement":"left","label-width":"120px",class:"space-y-4"},{default:s(()=>[n(t(S),{cols:2,"x-gap":24,"y-gap":16},{default:s(()=>[n(t(_),{label:"dept_no",path:"dept_no"},{default:s(()=>[n(t(i),{value:a.dept_no,"onUpdate:value":e[0]||(e[0]=r=>a.dept_no=r),placeholder:"Please enter dept_no",disabled:!!t(o)||!!t(o),class:"w-full",maxlength:"4","show-count":""},null,8,["value","disabled"])]),_:1}),n(t(_),{label:"dept_name",path:"dept_name"},{default:s(()=>[n(t(i),{value:a.dept_name,"onUpdate:value":e[1]||(e[1]=r=>a.dept_name=r),placeholder:"Please enter dept_name",class:"w-full"},null,8,["value"])]),_:1})]),_:1}),R("div",F,[n(t(u),{onClick:h},{default:s(()=>[...e[2]||(e[2]=[m("Cancel",-1)])]),_:1}),n(t(u),{type:"info",onClick:v},{default:s(()=>[...e[3]||(e[3]=[m("Reset",-1)])]),_:1}),n(t(u),{type:"primary",onClick:b},{default:s(()=>[...e[4]||(e[4]=[m("Save",-1)])]),_:1})])]),_:1},8,["model"])]),_:1})]))}}),X=U(O,[["__scopeId","data-v-17bf15db"]]);export{X as default};
