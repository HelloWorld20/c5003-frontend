import{d as x,c8 as P,bt as k,bv as N,r as q,b as B,f as a,w as o,g as l,e as C,B as p,h as _,b_ as R,be as S,o as I}from"./index-Fa26LLGJ.js";import{u as U,a as V}from"./titles-CEEOwoP9.js";import{_ as O}from"./FormItem-BZKeQ143.js";import{_ as j,a as u}from"./Grid-B2FtaVgP.js";import{N as v}from"./Input-CaFfWc_O.js";import{_ as E}from"./DatePicker-rMn-1Kn0.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./get-D-rsvxxO.js";import"./get-slot-Bk_rJcZu.js";import"./use-locale-3ZZNx-H2.js";import"./use-keyboard-DyVeZvMZ.js";import"./FocusDetector-UVToc5yR.js";import"./Follower-YbKMuAEO.js";import"./Forward-Cjyugl_j.js";const M={class:"p-6"},z={class:"mt-8 flex justify-end space-x-4"},A=x({name:"TitleDetail",__name:"detail",setup(G){const f=k(),y=S(),i=P(),{emp_no:m,title:c,from_date:n,to_date:r}=f.query,t=N({emp_no:m||"",title:c||"",from_date:n?new Date(n).getTime():null,to_date:r?new Date(r).getTime():null}),d=q(),T={emp_no:{required:!0,message:"Please enter employee number",trigger:"blur"},title:{required:!0,message:"Please enter title",trigger:"blur"},from_date:{required:!0,type:"number",message:"Please select from date",trigger:"change"},to_date:{required:!0,type:"number",message:"Please select to date",trigger:"change"}},w=()=>{d.value?.validate(g=>{if(g)i.error("Please check the form information");else{const e={emp_no:t.emp_no,title:t.title,from_date:t.from_date?new Date(t.from_date).toISOString().split("T")[0]:null,to_date:t.to_date?new Date(t.to_date).toISOString().split("T")[0]:null};f.query.emp_no?U(e).then(()=>{i.success("Title updated successfully!")}):V(e).then(()=>{i.success("Title added successfully!")})}})},D=()=>{d.value?.restoreValidation(),Object.assign(t,{emp_no:m||"",title:c||"",from_date:n?new Date(n).getTime():null,to_date:r?new Date(r).getTime():null})},h=()=>{y.push("/titles")};return(g,e)=>{const b=E;return I(),B("div",M,[a(l(R),{title:"Title Information",class:"mx-auto"},{default:o(()=>[a(l(O),{ref_key:"formRef",ref:d,model:t,rules:T,"label-placement":"left","label-width":"120px",class:"space-y-4"},{default:o(()=>[a(l(j),{cols:2,"x-gap":24,"y-gap":16},{default:o(()=>[a(l(u),{label:"Employee Number",path:"emp_no"},{default:o(()=>[a(l(v),{value:t.emp_no,"onUpdate:value":e[0]||(e[0]=s=>t.emp_no=s),placeholder:"Please enter employee number",disabled:!!l(m),class:"w-full"},null,8,["value","disabled"])]),_:1}),a(l(u),{label:"Title",path:"title"},{default:o(()=>[a(l(v),{value:t.title,"onUpdate:value":e[1]||(e[1]=s=>t.title=s),placeholder:"Please enter title",class:"w-full"},null,8,["value"])]),_:1}),a(l(u),{label:"From Date",path:"from_date"},{default:o(()=>[a(b,{value:t.from_date,"onUpdate:value":e[2]||(e[2]=s=>t.from_date=s),type:"date",placeholder:"Please select from date",class:"w-full"},null,8,["value"])]),_:1}),a(l(u),{label:"To Date",path:"to_date"},{default:o(()=>[a(b,{value:t.to_date,"onUpdate:value":e[3]||(e[3]=s=>t.to_date=s),type:"date",placeholder:"Please select to date",class:"w-full"},null,8,["value"])]),_:1})]),_:1}),C("div",z,[a(l(p),{onClick:h},{default:o(()=>[...e[4]||(e[4]=[_("Cancel",-1)])]),_:1}),a(l(p),{type:"info",onClick:D},{default:o(()=>[...e[5]||(e[5]=[_("Reset",-1)])]),_:1}),a(l(p),{type:"primary",onClick:w},{default:o(()=>[...e[6]||(e[6]=[_("Save",-1)])]),_:1})])]),_:1},8,["model"])]),_:1})])}}}),oe=F(A,[["__scopeId","data-v-6ac2aae0"]]);export{oe as default};
