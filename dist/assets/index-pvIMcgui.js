import{a as W,c as Z,b as j}from"./system-logo.vue_vue_type_script_setup_true_lang-C5ZsHQ3R.js";import{r as D,a as y,b$ as H,c0 as X,d as k,c1 as T,b as S,e as d,o as N,$ as o,c2 as J,bm as Q,bv as z,c as R,w as s,c3 as L,f as n,g as t,h as P,t as x,B as M,c4 as Y,u as A,bf as ee,b8 as oe,c5 as $,c6 as ne,b_ as te,b0 as ae,aZ as le,a6 as se,b5 as re}from"./index-Fa26LLGJ.js";import{_ as q,a as B}from"./FormItem-BZKeQ143.js";import{N as E}from"./Input-CaFfWc_O.js";import{a as ie}from"./Dropdown-CxFzKVN2.js";import{_ as U}from"./Space-DmpO1c5Z.js";import"./Tooltip-DtJC1sbC.js";import"./Popover-OLpDKtti.js";import"./get-D-rsvxxO.js";import"./Follower-YbKMuAEO.js";import"./use-locale-3ZZNx-H2.js";import"./use-compitable-BSzTa9o4.js";import"./use-keyboard-DyVeZvMZ.js";import"./create-C8zW23Rr.js";import"./get-slot-Bk_rJcZu.js";function ce(p){const i=D(0),m=y(()=>Math.ceil(i.value)),l=y(()=>i.value>0),{pause:a,resume:c}=H(({delta:e})=>{if(i.value<=0){i.value=0,a();return}const _=e/1e3;i.value-=_,i.value<=0&&(i.value=0,a())},{immediate:!1});function w(e=p){i.value=e,c()}function g(){i.value=0,a()}return X(()=>{a()}),{count:m,isCounting:l,start:w,stop:g}}const de={class:"absolute-lt z-1 size-full overflow-hidden"},pe={class:"absolute -right-300px -top-900px lt-sm:-right-100px lt-sm:-top-1170px"},ue={height:"1337",width:"1337"},me={id:"linearGradient-2",x1:"0.79",y1:"0.62",x2:"0.21",y2:"0.86"},fe=["stop-color"],ge=["stop-color"],_e={class:"absolute -bottom-400px -left-200px lt-sm:-bottom-760px lt-sm:-left-100px"},he={height:"896",width:"967.8852157128662"},we={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},ve=["stop-color"],be=["stop-color"],ye=k({name:"WaveBg",__name:"wave-bg",props:{themeColor:{}},setup(p){const i=p,m=y(()=>T(i.themeColor,200)),l=y(()=>T(i.themeColor,500));return(a,c)=>(N(),S("div",de,[d("div",pe,[(N(),S("svg",ue,[d("defs",null,[c[0]||(c[0]=d("path",{id:"path-1",opacity:"1","fill-rule":"evenodd",d:"M1337,668.5 C1337,1037.455193874239 1037.455193874239,1337 668.5,1337 C523.6725684305388,1337 337,1236 370.50000000000006,1094 C434.03835568300906,824.6732385973953 6.906089672974592e-14,892.6277623047779 0,668.5000000000001 C0,299.5448061257611 299.5448061257609,1.1368683772161603e-13 668.4999999999999,0 C1037.455193874239,0 1337,299.544806125761 1337,668.5Z"},null,-1)),d("linearGradient",me,[d("stop",{offset:"0","stop-color":m.value,"stop-opacity":"1"},null,8,fe),d("stop",{offset:"1","stop-color":l.value,"stop-opacity":"1"},null,8,ge)])]),c[1]||(c[1]=d("g",{opacity:"1"},[d("use",{"xlink:href":"#path-1",fill:"url(#linearGradient-2)","fill-opacity":"1"})],-1))]))]),d("div",_e,[(N(),S("svg",he,[d("defs",null,[c[2]||(c[2]=d("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1)),d("linearGradient",we,[d("stop",{offset:"0","stop-color":l.value,"stop-opacity":"1"},null,8,ve),d("stop",{offset:"1","stop-color":m.value,"stop-opacity":"1"},null,8,be)])]),c[3]||(c[3]=d("g",{opacity:"1"},[d("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1))]))])]))}}),xe=/^[\u4E00-\u9FA5a-zA-Z0-9_-]{4,16}$/,K=/^[1](([3][0-9])|([4][01456789])|([5][012356789])|([6][2567])|([7][0-8])|([8][0-9])|([9][012356789]))[0-9]{8}$/,Ce=/^\w{6,18}$/,Ne=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,Pe=/^\d{6}$/;function F(){const p={userName:{pattern:xe,message:o("form.userName.invalid"),trigger:"change"},phone:{pattern:K,message:o("form.phone.invalid"),trigger:"change"},pwd:{pattern:Ce,message:o("form.pwd.invalid"),trigger:"change"},code:{pattern:Pe,message:o("form.code.invalid"),trigger:"change"},email:{pattern:Ne,message:o("form.email.invalid"),trigger:"change"}},i={userName:[l(o("form.userName.required")),p.userName],phone:[l(o("form.phone.required")),p.phone],pwd:[l(o("form.pwd.required")),p.pwd],code:[l(o("form.code.required")),p.code],email:[l(o("form.email.required")),p.email]},m=l(o("form.required"));function l(c){return{required:!0,message:c}}function a(c){return[{required:!0,message:o("form.confirmPwd.required")},{asyncValidator:(g,e)=>e.trim()!==""&&e!==J(c)?Promise.reject(g.message):Promise.resolve(),message:o("form.confirmPwd.invalid"),trigger:"input"}]}return{patternRules:p,formRules:i,defaultRequiredRule:m,createRequiredRule:l,createConfirmPwdRule:a}}function G(){const p=D(null);async function i(){await p.value?.validate()}async function m(){p.value?.restoreValidation()}return{formRef:p,validate:i,restoreValidation:m}}const ke={class:"flex-y-center justify-between"},Re=k({name:"PwdLogin",__name:"pwd-login",setup(p){const i=Q(),{formRef:m,validate:l}=G(),a=z({userName:"admin",password:"admin"}),c=y(()=>{const{formRules:g,createRequiredRule:e}=F();return{userName:g.userName,password:[e(o("form.pwd.required"))]}});async function w(){await l(),await i.login(a.userName,a.password)}return(g,e)=>{const _=E,u=B,h=ie,r=M,b=U,f=q;return N(),R(f,{ref_key:"formRef",ref:m,model:a,rules:c.value,size:"large","show-label":!1,onKeyup:L(w,["enter"])},{default:s(()=>[n(u,{path:"userName"},{default:s(()=>[n(_,{value:a.userName,"onUpdate:value":e[0]||(e[0]=C=>a.userName=C),placeholder:t(o)("page.login.common.userNamePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(u,{path:"password"},{default:s(()=>[n(_,{value:a.password,"onUpdate:value":e[1]||(e[1]=C=>a.password=C),type:"password","show-password-on":"click",placeholder:t(o)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(b,{vertical:"",size:24},{default:s(()=>[d("div",ke,[n(h,null,{default:s(()=>[P(x(t(o)("page.login.pwdLogin.rememberMe")),1)]),_:1})]),n(r,{type:"primary",size:"large",round:"",block:"",loading:t(i).loginLoading,onClick:w},{default:s(()=>[P(x(t(o)("common.confirm")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])}}});function O(){const{loading:p,startLoading:i,endLoading:m}=Y(),{count:l,start:a,stop:c,isCounting:w}=ce(10),g=y(()=>{let u=o("page.login.codeLogin.getCode");const h=o("page.login.codeLogin.reGetCode",{time:l.value});return p.value&&(u=""),w.value&&(u=h),u});function e(u){return u.trim()===""?(window.$message?.error?.(o("form.phone.required")),!1):K.test(u)?!0:(window.$message?.error?.(o("form.phone.invalid")),!1)}async function _(u){!e(u)||p.value||(i(),await new Promise(r=>{setTimeout(r,500)}),window.$message?.success?.(o("page.login.codeLogin.sendCodeSuccess")),a(),m())}return{label:g,start:a,stop:c,isCounting:w,loading:p,getCaptcha:_}}const $e={class:"w-full flex-y-center gap-16px"},Se=k({name:"CodeLogin",__name:"code-login",setup(p){const{toggleLoginModule:i}=A(),{formRef:m,validate:l}=G(),{label:a,isCounting:c,loading:w,getCaptcha:g}=O(),e=z({phone:"",code:""}),_=y(()=>{const{formRules:h}=F();return{phone:h.phone,code:h.code}});async function u(){await l(),window.$message?.success(o("page.login.common.validateSuccess"))}return(h,r)=>{const b=E,f=B,C=M,I=U,V=q;return N(),R(V,{ref_key:"formRef",ref:m,model:e,rules:_.value,size:"large","show-label":!1,onKeyup:L(u,["enter"])},{default:s(()=>[n(f,{path:"phone"},{default:s(()=>[n(b,{value:e.phone,"onUpdate:value":r[0]||(r[0]=v=>e.phone=v),placeholder:t(o)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(f,{path:"code"},{default:s(()=>[d("div",$e,[n(b,{value:e.code,"onUpdate:value":r[1]||(r[1]=v=>e.code=v),placeholder:t(o)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),n(C,{size:"large",disabled:t(c),loading:t(w),onClick:r[2]||(r[2]=v=>t(g)(e.phone))},{default:s(()=>[P(x(t(a)),1)]),_:1},8,["disabled","loading"])])]),_:1}),n(I,{vertical:"",size:18,class:"w-full"},{default:s(()=>[n(C,{type:"primary",size:"large",round:"",block:"",onClick:u},{default:s(()=>[P(x(t(o)("common.confirm")),1)]),_:1}),n(C,{size:"large",round:"",block:"",onClick:r[3]||(r[3]=v=>t(i)("pwd-login"))},{default:s(()=>[P(x(t(o)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),ze={class:"w-full flex-y-center gap-16px"},Le=k({name:"Register",__name:"register",setup(p){const{toggleLoginModule:i}=A(),{formRef:m,validate:l}=G(),{label:a,isCounting:c,loading:w,getCaptcha:g}=O(),e=z({phone:"",code:"",password:"",confirmPassword:""}),_=y(()=>{const{formRules:h,createConfirmPwdRule:r}=F();return{phone:h.phone,code:h.code,password:h.pwd,confirmPassword:r(e.password)}});async function u(){await l(),window.$message?.success(o("page.login.common.validateSuccess"))}return(h,r)=>{const b=E,f=B,C=M,I=U,V=q;return N(),R(V,{ref_key:"formRef",ref:m,model:e,rules:_.value,size:"large","show-label":!1,onKeyup:L(u,["enter"])},{default:s(()=>[n(f,{path:"phone"},{default:s(()=>[n(b,{value:e.phone,"onUpdate:value":r[0]||(r[0]=v=>e.phone=v),placeholder:t(o)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(f,{path:"code"},{default:s(()=>[d("div",ze,[n(b,{value:e.code,"onUpdate:value":r[1]||(r[1]=v=>e.code=v),placeholder:t(o)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),n(C,{size:"large",disabled:t(c),loading:t(w),onClick:r[2]||(r[2]=v=>t(g)(e.phone))},{default:s(()=>[P(x(t(a)),1)]),_:1},8,["disabled","loading"])])]),_:1}),n(f,{path:"password"},{default:s(()=>[n(b,{value:e.password,"onUpdate:value":r[3]||(r[3]=v=>e.password=v),type:"password","show-password-on":"click",placeholder:t(o)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(f,{path:"confirmPassword"},{default:s(()=>[n(b,{value:e.confirmPassword,"onUpdate:value":r[4]||(r[4]=v=>e.confirmPassword=v),type:"password","show-password-on":"click",placeholder:t(o)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(I,{vertical:"",size:18,class:"w-full"},{default:s(()=>[n(C,{type:"primary",size:"large",round:"",block:"",onClick:u},{default:s(()=>[P(x(t(o)("common.confirm")),1)]),_:1}),n(C,{size:"large",round:"",block:"",onClick:r[5]||(r[5]=v=>t(i)("pwd-login"))},{default:s(()=>[P(x(t(o)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Me=k({name:"ResetPwd",__name:"reset-pwd",setup(p){const{toggleLoginModule:i}=A(),{formRef:m,validate:l}=G(),a=z({phone:"",code:"",password:"",confirmPassword:""}),c=y(()=>{const{formRules:g,createConfirmPwdRule:e}=F();return{phone:g.phone,password:g.pwd,confirmPassword:e(a.password)}});async function w(){await l(),window.$message?.success(o("page.login.common.validateSuccess"))}return(g,e)=>{const _=E,u=B,h=M,r=U,b=q;return N(),R(b,{ref_key:"formRef",ref:m,model:a,rules:c.value,size:"large","show-label":!1,onKeyup:L(w,["enter"])},{default:s(()=>[n(u,{path:"phone"},{default:s(()=>[n(_,{value:a.phone,"onUpdate:value":e[0]||(e[0]=f=>a.phone=f),placeholder:t(o)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(u,{path:"code"},{default:s(()=>[n(_,{value:a.code,"onUpdate:value":e[1]||(e[1]=f=>a.code=f),placeholder:t(o)("page.login.common.codePlaceholder")},null,8,["value","placeholder"])]),_:1}),n(u,{path:"password"},{default:s(()=>[n(_,{value:a.password,"onUpdate:value":e[2]||(e[2]=f=>a.password=f),type:"password","show-password-on":"click",placeholder:t(o)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(u,{path:"confirmPassword"},{default:s(()=>[n(_,{value:a.confirmPassword,"onUpdate:value":e[3]||(e[3]=f=>a.confirmPassword=f),type:"password","show-password-on":"click",placeholder:t(o)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),n(r,{vertical:"",size:18,class:"w-full"},{default:s(()=>[n(h,{type:"primary",size:"large",round:"",block:"",onClick:w},{default:s(()=>[P(x(t(o)("common.confirm")),1)]),_:1}),n(h,{size:"large",round:"",block:"",onClick:e[4]||(e[4]=f=>t(i)("pwd-login"))},{default:s(()=>[P(x(t(o)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),qe=k({name:"BindWechat",__name:"bind-wechat",setup(p){return(i,m)=>(N(),S("div"))}}),Be={class:"w-400px lt-sm:w-300px"},Ee={class:"flex-y-center justify-between"},Ue={class:"text-28px text-primary font-500 lt-sm:text-22px"},Fe={class:"i-flex-col"},Ge={class:"pt-24px"},Ie={class:"text-18px text-primary font-medium"},Ve={class:"pt-24px"},no=k({__name:"index",props:{module:{}},setup(p){const i=p,m=ee(),l=oe(),a={"pwd-login":{label:$["pwd-login"],component:Re},"code-login":{label:$["code-login"],component:Se},register:{label:$.register,component:Le},"reset-pwd":{label:$["reset-pwd"],component:Me},"bind-wechat":{label:$["bind-wechat"],component:qe}},c=y(()=>a[i.module||"pwd-login"]),w=y(()=>l.darkMode?T(l.themeColor,600):l.themeColor),g=y(()=>{const e="#ffffff",_=l.darkMode?.5:.2;return ne(e,l.themeColor,_)});return(e,_)=>{const u=ye,h=W,r=Z,b=j,f=te;return N(),S("div",{class:"relative size-full flex-center overflow-hidden",style:ae({backgroundColor:g.value})},[n(u,{"theme-color":w.value},null,8,["theme-color"]),n(f,{bordered:!1,class:"relative z-4 w-auto rd-12px"},{default:s(()=>[d("div",Be,[d("header",Ee,[n(h,{class:"text-64px text-primary lt-sm:text-48px"}),d("h3",Ue,x(t(o)("system.title")),1),d("div",Fe,[n(r,{"theme-schema":t(l).themeScheme,"show-tooltip":!1,class:"text-20px lt-sm:text-18px",onSwitch:t(l).toggleThemeScheme},null,8,["theme-schema","onSwitch"]),t(l).header.multilingual.visible?(N(),R(b,{key:0,lang:t(m).locale,"lang-options":t(m).localeOptions,"show-tooltip":!1,onChangeLang:t(m).changeLocale},null,8,["lang","lang-options","onChangeLang"])):le("",!0)])]),d("main",Ge,[d("h3",Ie,x(t(o)(c.value.label)),1),d("div",Ve,[n(se,{name:t(l).page.animateMode,mode:"out-in",appear:""},{default:s(()=>[(N(),R(re(c.value.component)))]),_:1},8,["name"])])])])]),_:1})],4)}}});export{no as default};
