import{d as x,c8 as P,bs as k,bu as N,r as q,b as B,f as a,w as o,g as l,bZ as C,e as R,B as p,h as _,bd as S,o as I}from"./index-87vbCTGm.js";import{u as U,a as V}from"./titles-BFtEs3pV.js";import{_ as O}from"./FormItem-BHQhvWDD.js";import{_ as j,a as u}from"./Grid-DQUJjOE4.js";import{N as v}from"./Input-ClcVpobp.js";import{_ as E}from"./DatePicker-B-UnU-O6.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./get-BnYSeXiT.js";import"./get-slot-Bk_rJcZu.js";import"./use-locale-BXu25IbI.js";import"./use-keyboard-BUPNGHvA.js";import"./FocusDetector-BjQ8OS9e.js";import"./Follower-Sc50xzgF.js";import"./Forward-C9o8IRuB.js";const M={class:"p-6"},Z={class:"mt-8 flex justify-end space-x-4"},z=x({name:"TitleDetail",__name:"detail",setup(A){const f=k(),y=S(),i=P(),{emp_no:d,title:c,from_date:n,to_date:r}=f.query,t=N({emp_no:d||"",title:c||"",from_date:n?new Date(n).getTime():null,to_date:r?new Date(r).getTime():null}),m=q(),T={emp_no:{required:!0,message:"Please enter employee number",trigger:"blur"},title:{required:!0,message:"Please enter title",trigger:"blur"},from_date:{required:!0,type:"number",message:"Please select from date",trigger:"change"},to_date:{required:!0,type:"number",message:"Please select to date",trigger:"change"}},w=()=>{m.value?.validate(g=>{if(g)i.error("Please check the form information");else{const e={emp_no:t.emp_no,title:t.title,from_date:t.from_date?new Date(t.from_date).toISOString().split("T")[0]:null,to_date:t.to_date?new Date(t.to_date).toISOString().split("T")[0]:null};f.query.emp_no?U(e).then(()=>{i.success("Title updated successfully!")}):V(e).then(()=>{i.success("Title added successfully!")})}})},D=()=>{m.value?.restoreValidation(),Object.assign(t,{emp_no:d||"",title:c||"",from_date:n?new Date(n).getTime():null,to_date:r?new Date(r).getTime():null})},h=()=>{y.push("/titles")};return(g,e)=>{const b=E;return I(),B("div",M,[a(l(C),{title:"Title Information",class:"mx-auto"},{default:o(()=>[a(l(O),{ref_key:"formRef",ref:m,model:t,rules:T,"label-placement":"left","label-width":"120px",class:"space-y-4"},{default:o(()=>[a(l(j),{cols:2,"x-gap":24,"y-gap":16},{default:o(()=>[a(l(u),{label:"Employee Number",path:"emp_no"},{default:o(()=>[a(l(v),{value:t.emp_no,"onUpdate:value":e[0]||(e[0]=s=>t.emp_no=s),placeholder:"Please enter employee number",disabled:!!l(d),class:"w-full"},null,8,["value","disabled"])]),_:1}),a(l(u),{label:"Title",path:"title"},{default:o(()=>[a(l(v),{value:t.title,"onUpdate:value":e[1]||(e[1]=s=>t.title=s),placeholder:"Please enter title",class:"w-full"},null,8,["value"])]),_:1}),a(l(u),{label:"From Date",path:"from_date"},{default:o(()=>[a(b,{value:t.from_date,"onUpdate:value":e[2]||(e[2]=s=>t.from_date=s),type:"date",placeholder:"Please select from date",class:"w-full"},null,8,["value"])]),_:1}),a(l(u),{label:"To Date",path:"to_date"},{default:o(()=>[a(b,{value:t.to_date,"onUpdate:value":e[3]||(e[3]=s=>t.to_date=s),type:"date",placeholder:"Please select to date",class:"w-full"},null,8,["value"])]),_:1})]),_:1}),R("div",Z,[a(l(p),{onClick:h},{default:o(()=>[...e[4]||(e[4]=[_("Cancel",-1)])]),_:1}),a(l(p),{type:"info",onClick:D},{default:o(()=>[...e[5]||(e[5]=[_("Reset",-1)])]),_:1}),a(l(p),{type:"primary",onClick:w},{default:o(()=>[...e[6]||(e[6]=[_("Save",-1)])]),_:1})])]),_:1},8,["model"])]),_:1})])}}}),oe=F(z,[["__scopeId","data-v-6ac2aae0"]]);export{oe as default};
