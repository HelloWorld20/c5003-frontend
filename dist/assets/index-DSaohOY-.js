import{_ as T,a as U,b as $,N as B}from"./round-add-BPbYZ9dc.js";import{_ as A,a as j}from"./round-search-DFahOh1b.js";import{d as G,r as c,bu as L,F as O,ab as V,b as q,f as t,w as a,bZ as Z,cc as D,c7 as H,g as p,B as u,h as d,i as m,bd as J,o as K}from"./index-87vbCTGm.js";import{f as Q,d as W}from"./salary-G1ti1DA5.js";import{_ as X}from"./FormItem-BHQhvWDD.js";import{_ as ee,a as te}from"./Grid-DQUJjOE4.js";import{N as oe}from"./Input-ClcVpobp.js";import{_ as ae}from"./DatePicker-B-UnU-O6.js";import{_ as b}from"./Space-BIAq3j9v.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./get-BnYSeXiT.js";import"./Dropdown-BdNqHr01.js";import"./use-locale-BXu25IbI.js";import"./Popover-D6ZomGUB.js";import"./Follower-Sc50xzgF.js";import"./use-compitable-CBYToUKY.js";import"./use-keyboard-BUPNGHvA.js";import"./create-C8zW23Rr.js";import"./Tooltip-B9QzuBhL.js";import"./get-slot-Bk_rJcZu.js";import"./FocusDetector-BjQ8OS9e.js";import"./Select-t6ou7y2E.js";import"./Forward-C9o8IRuB.js";import"./download-C2161hUv.js";const le={class:"user-management"},se=G({__name:"index",setup(re){const f=J(),n=c({Employee_ID:"",Salary:null,Date:null}),g=c([]),s=L({Page_Number:1,Row_Count:10,"item-count":99}),N=c(!1),h=[{title:"emp_no",key:"emp_no"},{title:"Salary",key:"salary"},{title:"from_date",key:"from_date"},{title:"to_date",key:"to_date"},{title:"Operation",key:"actions",width:150,render:o=>m(b,{},{default:()=>[m(u,{size:"small",type:"primary",onClick:()=>k(o)},{default:()=>"Edit"}),m(B,{onPositiveClick:()=>S(o)},{trigger:()=>m(u,{size:"small",type:"error"},{default:()=>"Delete"}),default:()=>"Are you sure to delete this employee?"})]})}];function k(o){console.log("编辑用户:",o),f.push({path:"salaries/detail",query:{...o}})}async function S(o){try{await W(o.Employee_ID),r(),window.$message?.success("删除成功")}catch{window.$message?.error("删除失败")}}function w(){console.log("搜索条件:",n),r()}function y(){x(),r()}function C(){console.log("新增用户"),f.push("/salaries/detail")}function x(){n.value={Employee_ID:"",Salary:null,Date:null}}function r(){let o={...n.value,...s};if(o.Date){const[e,i]=o.Date;o.From_Date=e?D(e).format("YYYY-MM-DD"):void 0,o.To_Date=i?D(i).format("YYYY-MM-DD"):void 0,delete o.Date}delete o["item-count"],o=H(o),Q(o).then(e=>{g.value=e})}return O(()=>{y(),r()}),V(()=>[s.Page_Number,s.Row_Count],()=>{r()}),(o,e)=>{const i=oe,_=te,I=ae,E=A,P=j,R=ee,Y=X,v=Z,z=$,F=T,M=U;return K(),q("div",le,[t(v,{title:"Search Conditions",class:"mb-4"},{default:a(()=>[t(Y,{model:n.value,"label-placement":"left","label-width":"80px",class:"search-form"},{default:a(()=>[t(R,{cols:4,"x-gap":16},{default:a(()=>[t(_,{label:"Employee_ID"},{default:a(()=>[t(i,{value:n.value.Employee_ID,"onUpdate:value":e[0]||(e[0]=l=>n.value.Employee_ID=l),clearable:""},null,8,["value"])]),_:1}),t(_,{label:"Salary"},{default:a(()=>[t(i,{value:n.value.Salary,"onUpdate:value":e[1]||(e[1]=l=>n.value.Salary=l),clearable:""},null,8,["value"])]),_:1}),t(_,{label:"Date"},{default:a(()=>[t(I,{value:n.value.Date,"onUpdate:value":e[2]||(e[2]=l=>n.value.Date=l),type:"daterange",clearable:""},null,8,["value"])]),_:1}),t(_,null,{default:a(()=>[t(p(b),null,{default:a(()=>[t(p(u),{type:"primary",onClick:w},{icon:a(()=>[t(E)]),default:a(()=>[e[5]||(e[5]=d(" Search ",-1))]),_:1}),t(p(u),{onClick:y},{icon:a(()=>[t(P)]),default:a(()=>[e[6]||(e[6]=d(" Reset ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(v,{title:"Salary List"},{"header-extra":a(()=>[t(p(u),{type:"primary",onClick:C},{icon:a(()=>[t(z)]),default:a(()=>[e[7]||(e[7]=d(" Add Salary ",-1))]),_:1})]),default:a(()=>[t(F,{columns:h,data:g.value,loading:N.value,bordered:!1,"single-line":!1,class:"user-table"},null,8,["data","loading"]),t(M,{page:s.Page_Number,"onUpdate:page":e[3]||(e[3]=l=>s.Page_Number=l),"page-size":s.Row_Count,"onUpdate:pageSize":e[4]||(e[4]=l=>s.Row_Count=l),"item-count":s["item-count"],"page-sizes":[10,20,30,40],"show-size-picker":""},null,8,["page","page-size","item-count"])]),_:1})])}}}),Ye=ne(se,[["__scopeId","data-v-9e291299"]]);export{Ye as default};
