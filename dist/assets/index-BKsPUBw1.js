import{_ as M,a as U,b as $,N as B}from"./round-add-Co5zz2AP.js";import{_ as S,a as A}from"./round-search-CPuu5Jof.js";import{d as j,r as p,bt as G,F as L,ab as O,b as V,f as t,w as o,bY as q,cc as b,c7 as H,g as u,B as m,h as c,i as d,bd as J,o as K}from"./index-CgPf9EQm.js";import{f as Q,d as W}from"./titles-DYqkXrB6.js";import{_ as X}from"./FormItem-C-80rxJ-.js";import{_ as Z,a as ee}from"./Grid-Bpsg71dj.js";import{N as te}from"./Input-CW-Izv7Y.js";import{_ as oe}from"./DatePicker-BUiC7MvA.js";import{_ as D}from"./Space-CUk2o4WB.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./get-aZYWdo8V.js";import"./Dropdown-foOqA8TI.js";import"./use-locale-CuzreQhd.js";import"./Popover-qHZnx3Kc.js";import"./Follower-BA0-0DAj.js";import"./use-compitable-DFJDUIHc.js";import"./use-keyboard-BIDzhMOw.js";import"./create-C8zW23Rr.js";import"./Tooltip-DLy2t5oR.js";import"./get-slot-Bk_rJcZu.js";import"./FocusDetector-DEKUhLld.js";import"./Select-BKdez5Gf.js";import"./Forward-DZ273ImB.js";import"./download-C2161hUv.js";const ae={class:"user-management"},le=j({__name:"index",setup(ie){const y=J(),a=p({Employee_ID:"",Title:"",Date:null}),f=p([]),i=G({Page_Number:1,Row_Count:10,"item-count":99}),N=p(!1),T=[{title:"emp_no",key:"emp_no"},{title:"Title",key:"title"},{title:"from_date",key:"from_date"},{title:"to_date",key:"to_date"},{title:"Operation",key:"actions",width:150,render:n=>d(D,{},{default:()=>[d(B,{onPositiveClick:()=>w(n)},{trigger:()=>d(m,{size:"small",type:"error"},{default:()=>"Delete"}),default:()=>"Are you sure to delete this employee?"})]})}];async function w(n){try{await W(n.emp_no,n.title),s(),window.$message?.success("删除成功")}catch{window.$message?.error("删除失败")}}function k(){console.log("搜索条件:",a),s()}function g(){h(),s()}function C(){console.log("新增用户"),y.push("/titles/detail")}function h(){a.value.Employee_ID="",a.value.Title="",a.value.Date=null}function s(){let n={...a.value,...i};if(n.Date){const[e,_]=n.Date;n.From_Date=e?b(e).format("YYYY-MM-DD"):void 0,n.To_Date=_?b(_).format("YYYY-MM-DD"):void 0,delete n.Date}delete n["item-count"],n=H(n),Q(n).then(e=>{f.value=e})}return L(()=>{g(),s()}),O(()=>[i.Page_Number,i.Row_Count],()=>{s()}),(n,e)=>{const _=te,r=ee,x=oe,I=S,Y=A,P=Z,R=X,v=q,z=$,E=M,F=U;return K(),V("div",ae,[t(v,{title:"Search Conditions",class:"mb-4"},{default:o(()=>[t(R,{model:a.value,"label-placement":"left","label-width":"80px",class:"search-form"},{default:o(()=>[t(P,{cols:4,"x-gap":16},{default:o(()=>[t(r,{label:"Employee_ID"},{default:o(()=>[t(_,{value:a.value.Employee_ID,"onUpdate:value":e[0]||(e[0]=l=>a.value.Employee_ID=l),clearable:""},null,8,["value"])]),_:1}),t(r,{label:"Title"},{default:o(()=>[t(_,{value:a.value.Title,"onUpdate:value":e[1]||(e[1]=l=>a.value.Title=l),clearable:""},null,8,["value"])]),_:1}),t(r,{label:"Date"},{default:o(()=>[t(x,{value:a.value.Date,"onUpdate:value":e[2]||(e[2]=l=>a.value.Date=l),type:"daterange",clearable:""},null,8,["value"])]),_:1}),t(r,null,{default:o(()=>[t(u(D),null,{default:o(()=>[t(u(m),{type:"primary",onClick:k},{icon:o(()=>[t(I)]),default:o(()=>[e[5]||(e[5]=c(" Search ",-1))]),_:1}),t(u(m),{onClick:g},{icon:o(()=>[t(Y)]),default:o(()=>[e[6]||(e[6]=c(" Reset ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(v,{title:"Title List"},{"header-extra":o(()=>[t(u(m),{type:"primary",onClick:C},{icon:o(()=>[t(z)]),default:o(()=>[e[7]||(e[7]=c(" Add Title ",-1))]),_:1})]),default:o(()=>[t(E,{columns:T,data:f.value,loading:N.value,bordered:!1,"single-line":!1,class:"user-table"},null,8,["data","loading"]),t(F,{page:i.Page_Number,"onUpdate:page":e[3]||(e[3]=l=>i.Page_Number=l),"page-size":i.Row_Count,"onUpdate:pageSize":e[4]||(e[4]=l=>i.Row_Count=l),"item-count":i["item-count"],"page-sizes":[10,20,30,40],"show-size-picker":""},null,8,["page","page-size","item-count"])]),_:1})])}}}),Re=ne(le,[["__scopeId","data-v-09345e58"]]);export{Re as default};
