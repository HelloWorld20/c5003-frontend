import{bu as y,cO as m,X as r,ab as h,cP as b,cQ as w,am as v,Y as c}from"./index-87vbCTGm.js";function E(u,n){let{target:e}=u;for(;e;){if(e.dataset&&e.dataset[n]!==void 0)return!0;e=e.parentElement}return!1}function M(u={},n){const e=y({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:i,keyup:d}=u,o=t=>{switch(t.key){case"Control":e.ctrl=!0;break;case"Meta":e.command=!0,e.win=!0;break;case"Shift":e.shift=!0;break;case"Tab":e.tab=!0;break}i!==void 0&&Object.keys(i).forEach(s=>{if(s!==t.key)return;const a=i[s];if(typeof a=="function")a(t);else{const{stop:l=!1,prevent:k=!1}=a;l&&t.stopPropagation(),k&&t.preventDefault(),a.handler(t)}})},f=t=>{switch(t.key){case"Control":e.ctrl=!1;break;case"Meta":e.command=!1,e.win=!1;break;case"Shift":e.shift=!1;break;case"Tab":e.tab=!1;break}d!==void 0&&Object.keys(d).forEach(s=>{if(s!==t.key)return;const a=d[s];if(typeof a=="function")a(t);else{const{stop:l=!1,prevent:k=!1}=a;l&&t.stopPropagation(),k&&t.preventDefault(),a.handler(t)}})},p=()=>{(n===void 0||n.value)&&(r("keydown",document,o),r("keyup",document,f)),n!==void 0&&h(n,t=>{t?(r("keydown",document,o),r("keyup",document,f)):(c("keydown",document,o),c("keyup",document,f))})};return b()?(w(p),v(()=>{(n===void 0||n.value)&&(c("keydown",document,o),c("keyup",document,f))})):p(),m(e)}export{E as h,M as u};
